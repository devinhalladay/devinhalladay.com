//= require vendor/lazyloadxt
//= require vendor/picturefill

// Wait until all assets are loaded to evaluate function
$( document ).ready(function() {
  $('#toggle').click(function () {
    $(this).toggleClass('active');
    $('#overlay').toggleClass('open');
  });

  $.extend($.lazyLoadXT, {
    edgeY:  200
  });

  var o = new Array();

  var o = [<% data.obliquestrategies.strategies.each_with_index do |s, index| %>"<%= s %>", <% end %>];

  function randomIntFromInterval(min,max) {
    return Math.floor(Math.random()*(max-min+1)+min);
  }

  var i = randomIntFromInterval(0,116);

  $('#obliquestrategies em').text(o[i]);
});

$(document).keyup(function(e) {
  if (e.keyCode == 27) { // escape key maps to keycode `27`
    $('#toggle').removeClass('active');
    $('#overlay').removeClass('open');
  }
});

$(document).ready(function() {
  $('.filter-all').css("background", "none").css("color", "#333").css("opacity", "0.4");
  $('.filter-all').css("background", "#333").css("color", "#ddd").css("opacity", "1");

  // $(".filter-all").click(function() {
  //   $('[class*="item-"]').css("opacity", "1")
  // });
  //
  // $('div[class^="filter-"]:not(.filter-all)').click(function() {
  //   var e = $(this).attr("class").replace("filter-", "");
  //
  //   $('[class*="item-"]').css("opacity", "0.35");
  //
  //   $('.item-' + e).css("opacity", "1");
  //
  //   $('.item-' + e).each(function(i){
  //     item = $('.item-' + e).parent().parent();
  //     $('.work').prepend( $(item) ).delay(120);
  //   });
  // });

  // $('div[class^="filter-"]').click(function() {
  //
  //   // $('.work').css("opacity", "0");
  //
  //   $('.work').fadeTo( "fast" , 0);
  //
  //   $('.work').delay(100).fadeTo( "fast" , 1);
  //
  //   $('div[class^="filter-"]').css("background", "none").css("color",
  //     "#333").css("opacity", "0.4");
  //
  //   $(this).css("background", "#333").css("color", "#ddd").css(
  //     "opacity", "1")
  // });
});

$(function(){
  $('.work').mixItUp();
});
